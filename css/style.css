/* ========================================= */
/* PRIORIDAD AL CSS PERSONALIZADO DE TEMAS   */
/* ========================================= */
:root {
    color-scheme: light dark;
}

/* (MODIFICADO) Quitado el 'html.dark body...' de aquí */

/* Estilos para los iconos de Google */
.material-symbols-outlined {
    font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24;
}

/* Utilidad para ocultar la barra de scroll */
.no-scrollbar::-webkit-scrollbar {
    display: none;
}

.no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* Estilo base para el body (móvil) */
body {
    min-height: 100dvh;
    /* (¡NUEVO!) Transición global para el body */
    transition: background-color 0.25s ease, color 0.25s ease;
}

/* Estilo para la flecha del <select> en el formulario */
select.form-input {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 1rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
    /* (¡NUEVO!) Transición para el select */
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

input[type="time"]::-webkit-calendar-picker-indicator {
    display: none;
    -webkit-appearance: none;
}


/* =================================== */
/* TEMA CLARO (¡NUEVO!)              */
/* Anula las clases oscuras hardcodeadas */
/* =================================== */

/* Selector principal: se aplica solo si NO es 'dark' y NO es 'high-contrast' */
html:not(.dark):not(.high-contrast) body {
    background-color: #f6f8f6 !important;
    /* background-light */
    color: #0d0d0d !important;
    /* background-dark (para texto) */
}

/* --- Fondos de Componentes --- */
html:not(.dark):not(.high-contrast) .bg-surface-dark,
html:not(.dark):not(.high-contrast) .bg-gray-900,
html:not(.dark):not(.high-contrast) .bg-zinc-800,
html:not(.dark):not(.high-contrast) .bg-card-dark {
    background-color: #FFFFFF !important;
    border: 1px solid #d1d5db !important;
    /* Borde sutil gris */
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

/* (¡MODIFICADO!) Se separó .bg-black para la excepción */
html:not(.dark):not(.high-contrast) .bg-black {
    background-color: #FFFFFF !important;
    border: 1px solid #d1d5db !important;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

/* Excepciones para el icono de modo oscuro */
html:not(.dark):not(.high-contrast) #btn-theme-dark .bg-background-dark {
    background-color: #0d0d0d !important;
    border: 1px solid #0d0d0d !important;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

html:not(.dark):not(.high-contrast) #btn-theme-dark .bg-background-dark .text-white {
    color: #FFFFFF !important;
    transition: color 0.25s ease;
}

/* Excepciones para el icono de alto contraste */
html:not(.dark):not(.high-contrast) #btn-theme-contrast div[class*="bg-black"] {
    background-color: #000000 !important;
    transition: background-color 0.25s ease;
}

html:not(.dark):not(.high-contrast) #btn-theme-contrast span[class*="text-yellow-400"] {
    color: #facc15 !important;
    transition: color 0.25s ease;
}


/* --- Cabeceras y Pies de Página --- */
html:not(.dark):not(.high-contrast) .bg-background-dark\/80,
html:not(.dark):not(.high-contrast) header.bg-background-dark {
    background-color: rgba(246, 248, 246, 0.8) !important;
    border-bottom: 1px solid #d1d5db !important;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

html:not(.dark):not(.high-contrast) footer.bg-background-dark {
    background-color: rgba(246, 248, 246, 0.8) !important;
    border-top: 1px solid #d1d5db !important;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}


/* --- Textos --- */
html:not(.dark):not(.high-contrast) .text-white,
html:not(.dark):not(.high-contrast) .text-gray-300,
html:not(.dark):not(.high-contrast) .text-zinc-200,
html:not(.dark):not(.high-contrast) .text-gray-100 {
    color: #0d0d0d !important;
    transition: color 0.25s ease;
}

html:not(.dark):not(.high-contrast) .text-gray-400,
html:not(.dark):not(.high-contrast) .text-slate-400,
html:not(.dark):not(.high-contrast) .text-zinc-400,
html:not(.dark):not(.high-contrast) .text-white\/50 {
    color: #6b7280 !important;
    transition: color 0.25s ease;
}

/* --- Bordes (Líneas de separación) --- */
html:not(.dark):not(.high-contrast) .border-white\/10,
html:not(.dark):not(.high-contrast) .border-slate-700,
html:not(.dark):not(.high-contrast) .border-slate-800,
html:not(.dark):not(.high-contrast) .border-zinc-600,
html:not(.dark):not(.high-contrast) .border-gray-700 {
    border-color: #d1d5db !important;
    transition: border-color 0.25s ease;
}

/* --- Formularios (Textfields) --- */
html:not(.dark):not(.high-contrast) .form-input::placeholder,
html:not(.dark):not(.high-contrast) .placeholder\:text-gray-500::placeholder {
    color: #9ca3af !important;
}

/* (¡NUEVO!) Transición para inputs */
.form-input {
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

/* === ¡NUEVO BLOQUE! === */
/* --- Modificación del color primario (Azul) para Tema Claro --- */
html:not(.dark):not(.high-contrast) {
    /* Defino el nuevo color azul-400 (#60a5fa) */
    --color-primary-light: #60a5fa;
}

html:not(.dark):not(.high-contrast) .bg-primary {
    background-color: var(--color-primary-light) !important;
}

html:not(.dark):not(.high-contrast) .text-primary {
    color: var(--color-primary-light) !important;
}

html:not(.dark):not(.high-contrast) .border-primary,
html:not(.dark):not(.high-contrast) .focus-within\:border-primary:focus-within {
    border-color: var(--color-primary-light) !important;
}

html:not(.dark):not(.high-contrast) .accent-primary {
    accent-color: var(--color-primary-light) !important;
}

/* Botón de tema activo */
html:not(.dark):not(.high-contrast) .bg-primary\/10 {
    background-color: rgba(96, 165, 250, 0.1) !important;
    /* blue-400 10% */
}

/* Sombra de botón en Index */
html:not(.dark):not(.high-contrast) .shadow-primary\/20 {
    --tw-shadow-color: rgba(96, 165, 250, 0.2) !important;
    /* blue-400 20% */
    --tw-shadow: var(--tw-shadow-colored) !important;
}

/* Anillo de focus en inputs */
html:not(.dark):not(.high-contrast) .focus\:ring-primary:focus,
html:not(.dark):not(.high-contrast) .focus-within\:ring-primary:focus-within,
html:not(.dark):not(.high-contrast) .focus\:ring-offset-background-dark:focus {
    --tw-ring-color: var(--color-primary-light) !important;
}

html:not(.dark):not(.high-contrast) .focus\:ring-primary\/50:focus {
    --tw-ring-color: rgba(96, 165, 250, 0.5) !important;
    /* blue-400 50% */
}

/* === FIN DEL NUEVO BLOQUE === */


/* --- Sliders --- */
html:not(.dark):not(.high-contrast) .bg-slate-700,
html:not(.dark):not(.high-contrast) .bg-white\/10 {
    background-color: #d1d5db !important;
    transition: background-color 0.25s ease;
}


/* =================================== */
/* TEMA OSCURO (Consistencia)        */
/* =================================== */
html.dark .bg-white\/10 {
    background-color: #334155 !important;
    /* slate-700 */
    transition: background-color 0.25s ease;
}

/* (¡NUEVO!) Transición para el otro slider */
html.dark .bg-slate-700 {
    transition: background-color 0.25s ease;
}


/* =================================== */
/* TEMA DE ALTO CONTRASTE (¡NUEVO!) */
/* =================================== */

/* Fondo principal y color de texto */
html.high-contrast body {
    background-color: #000000 !important;
    color: #FFFFFF !important;
}

/* Fondos de componentes */
html.high-contrast .bg-background-dark,
html.high-contrast .dark\:bg-background-dark,
html.high-contrast .bg-gray-900,
html.high-contrast .bg-black {
    background-color: #000000 !important;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

html.high-contrast .bg-card-dark {
    background-color: #000000 !important;
    border: 2px solid #FFFF00 !important;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

html.high-contrast .bg-surface-dark {
    background-color: #000000 !important;
    border: 2px solid #FFFFFF !important;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

html.high-contrast .bg-zinc-800 {
    background-color: #000000 !important;
    border: 1px solid #FFFFFF !important;
    transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

/* Textos */
html.high-contrast .text-white,
html.high-contrast .text-gray-300,
html:not(.dark):not(.high-contrast) .text-gray-400,
html.high-contrast .text-zinc-200,
html.high-contrast .text-zinc-400,
html.high-contrast .text-slate-400,
html.high-contrast .text-white\/50 {
    color: #FFFFFF !important;
    transition: color 0.25s ease;
}

html.high-contrast .text-yellow-400 {
    color: #FFFF00 !important;
    transition: color 0.25s ease;
}

/* Colores primarios (Cambiados a Amarillo) */
html.high-contrast .bg-primary {
    background-color: #FFFF00 !important;
    color: #000000 !important;
}

html.high-contrast .text-primary {
    color: #FFFF00 !important;
}

html.high-contrast .border-primary,
html.high-contrast .focus-within\:border-primary:focus-within {
    border-color: #FFFF00 !important;
}

html.high-contrast .bg-primary\/10 {
    background-color: rgba(255, 255, 0, 0.15) !important;
}

html.high-contrast .accent-primary {
    accent-color: #FFFF00 !important;
}

/* Anillo de focus en Alto Contraste */
html.high-contrast .focus\:ring-primary:focus,
html.high-contrast .focus-within\:ring-primary:focus-within,
html.high-contrast .focus\:ring-offset-background-dark:focus {
    --tw-ring-color: #FFFF00 !important;
}

html.high-contrast .focus\:ring-primary\/50:focus {
    --tw-ring-color: rgba(255, 255, 0, 0.5) !important;
}

/* Sombra en Alto Contraste */
html.high-contrast .shadow-primary\/20 {
    --tw-shadow-color: #FFFF00 !important;
    --tw-shadow: var(--tw-shadow-colored) !important;
}

/* Colores de advertencia (Naranja brillante) */
html.high-contrast .text-warning {
    color: #FFA500 !important;
}

html.high-contrast .bg-warning {
    background-color: #FFA500 !important;
}

/* Consistencia de Sliders en Alto Contraste */
html.high-contrast .bg-slate-700,
html.high-contrast .bg-white\/10 {
    background-color: #000000 !important;
    border: 1px solid #FFFFFF !important;
    transition: background-color 0.25s ease, border-color 0.25s ease;
}

/* Bordes */
html.high-contrast .border-white\/10,
html.high-contrast .border-slate-700,
html.high-contrast .border-slate-800,
html.high-contrast .border-zinc-600,
html.high-contrast .border-gray-700 {
    border-color: #FFFFFF !important;
    transition: border-color 0.25s ease;
}

/* Headers y Footers */
html.high-contrast .backdrop-blur-sm {
    backdrop-filter: none !important;
}

html.high-contrast .bg-background-dark\/80,
html.high-contrast header.bg-background-dark,
html.high-contrast footer.bg-background-dark {
    background-color: #000000 !important;
    border-color: #FFFF00 !important;
    transition: background-color 0.25s ease, border-color 0.25s ease;
}

/* Botón de eliminar */
html.high-contrast .text-red-400 {
    color: #FF4D4D !important;
    font-weight: 700 !important;
}

/* ========================================= */
/* REFUERZO DE PRIORIDAD CONTRA TAILWIND     */
/* ========================================= */
html.high-contrast *,
html.dark * {
    color-scheme: inherit !important;
}